<!DOCTYPE html>
<html>
  <head>
    <title>Read the Word!</title>
    <meta name="viewport" content="width=device-width">
    <link href='http://fonts.googleapis.com/css?family=Alegreya:700' rel='stylesheet' type='text/css'>
    <style type="text/css">
      body { font-size: 24px; }
      ul { list-style-type: none; padding: 0; margin: 0; padding: 2rem }
      li { font-family: 'Alegreya', serif; }
      a { text-decoration: none; }
      a:hover { border-bottom: solid 3px; }
      a:visited { text-decoration: line-through; }
      .book { display: inline-block; width: 13rem; }
      .color-0 { color: #c0392b; }
      .color-1 { color: #d35400; }
      .color-2 { color: #f39c12; }
      .color-3 { color: #27ae60; }
      .color-4 { color: #16a085; }
      .color-5 { color: #2980b9; }
      .color-6 { color: #8e44ad; }
      .color-7 { color: #bdc3c7; }
      .color-8 { color: #7f8c8d; }
      .color-9 { color: #2c3e50; }
    </style>
  </head>
  <body>
    <div id="content"></div>
    <script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.7.0/underscore-min.js"></script>
    <script src="profhorner.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/react/0.12.0/react.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/react/0.12.0/JSXTransformer.js"></script>
    <script type="text/jsx">
      /** @jsx React.DOM */
      var ReadingList = React.createClass({
        render: function() {
          var readings = this.props.data.map(function(reading, i) {
            return (
              <Reading key={reading.book} reading={reading} index={i} />
            );
          });
          return (
            <ul id="readingList">
              {readings}
            </ul>
          );
        }
      });
      var Reading = React.createClass({
        render: function() {
          var color = "color-"+this.props.index;
          var link = "http://esv.to/"+this.props.reading.book+"+"+this.props.reading.chapter;
          return (
            <li>
              <a href={link} className={color}>
                <span className="book">{this.props.reading.book}</span>
                <span className="chapter">{this.props.reading.chapter}</span>
              </a>
            </li>
          );
        }
      });
      var date = window.location.hash.substring(1) ? new Date(window.location.hash.substring(1)) : new Date();
      React.renderComponent(
        <ReadingList data={ PH.getReadingPlan(date) }/>,
        document.getElementById('content')
      );
    </script>
  </body>
</html>
